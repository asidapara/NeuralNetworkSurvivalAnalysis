function [Y,Xf,Af] = myNeuralNetworkFunction(X,~,~)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 10-Sep-2016 15:27:40.
%
% [Y] = myNeuralNetworkFunction(X,~,~) takes these arguments:
%
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = Qx10 matrix, input #1 at timestep ts.
%
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = Qx1 matrix, output #1 at timestep ts.
%
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0;0;0;0;0;0;0;0;0;0];
x1_step1.gain = [2;2;2;2;2;2;2;2;2;2];
x1_step1.ymin = -1;

% Layer 1
b1 = [2.1702262640809300009;-2.1461164867866804329;-2.1340394070204782295;2.1259000437365926928;-2.0566316002470901303;-1.9949076484803272002;-1.9408322977685037447;1.9111968595893280565;1.8570226108885117267;1.8183845437882582008;1.7430520387538124272;1.732902014321184847;1.7232637767381056015;1.6288672731318603049;-1.6118531072694917139;1.5275787859734935026;1.4393426852348130129;1.4451208162387394474;1.3584892223852473858;1.3435494170449631124;-1.3749530370072218233;1.3120581036677678721;1.2049164931115687871;-1.1740925985031092083;-1.1503696512947940711;-1.0845932004935108228;1.0259302199644027009;0.99879615208387106939;0.93332892917906495889;-0.91957764310698297816;0.87334322600955871518;0.84980315990644961222;0.77185445397865215522;0.69543276327751735177;0.72936821791848627239;-0.60695760583484936745;0.57851509267752421195;-0.64214135421850604413;0.54773292163287246037;0.56182595790238143429;-0.42535301681913723071;0.35547981222344399166;0.3363715587231695392;-0.30586607702592344404;0.2419057442947678549;0.1606953353761069736;-0.1075987175405188484;-0.13798340399871494855;0.078704845785770013999;-0.08063259058997200579;-0.02219432988174382948;-0.075274724366789128038;0.16491385615113912655;-0.16718497346062866082;-0.19158045036254131577;0.2593588564548714448;0.28005531925505416924;0.3362296357021978821;0.39581218645811688805;0.40698761356794660449;0.47398852427783749741;-0.55734819460700391058;0.47543572393666772014;-0.5633524162441181371;-0.63343461713421922443;-0.6956971639792728368;-0.74601355329312479814;-0.75979649484851041752;0.87904374662474515922;0.8758446136478652555;-0.90046135289045048378;0.99882894980654901573;-1.0032683535070101577;0.97800940436830718916;1.0880948742922318395;1.0569463876463285334;1.1919904934703620114;-1.2347587618180773106;1.2822212322372941173;1.3098552547987281081;1.3748357646321383019;-1.4495143418180176376;1.4573938714660015226;-1.4898815229983892738;1.5885191222153833834;-1.5955886249836803703;1.6505649104797661675;-1.6883747647314386597;1.7195002992859551583;-1.7640933614100655635;-1.7866701154095596671;1.8713781477819033672;1.9282737466682400296;-1.926023202341245355;2.0074386371457122458;-2.0409039225878502499;-2.131366156486952157;-2.124054151191938189;-2.167130656598814209;2.2223972228605184398];
IW1_1 = [-0.84950769634998668511 0.69352842464864938865 0.69815677603968240295 0.81454324156372992505 -0.8712939486433973757 -0.087129684253775777081 0.34070732178392376666 -1.0293768861626999556 -0.88411527883566387587 0.12997078707821838051;1.0093962986927658143 0.082803415017021403388 -0.42939815811143455804 1.0507701818359012069 -0.50325159836879673758 0.68561459790359025046 -0.72062903371347664105 1.0054004937867921932 -0.50874186332505610952 0.39979127772817224518;1.0630541417692145334 -0.91591620728736378165 0.47591494791557564792 -0.48006174526394090885 -0.095528407241125434801 -1.3289209577567240306 -0.010288092303086219734 0.43044117593637676311 0.55586026096951657305 0.46162797502835922758;-0.49815155075003891838 -0.87750050714104543825 0.39211367119324597175 -0.20432169686372442241 -0.73125860947670340284 0.31839207425955301511 0.26466059460007884674 -0.63463924531408277829 -1.1012728085232799113 -1.1372696569510278852;0.16758626409753654696 0.75630470324352505607 0.31902003817582741396 0.41039125098846662709 1.1523180173120370906 -0.49361549746585192677 -0.28658557183411731417 -0.91193961381707955294 1.076352327948488341 0.60581943259793946677;0.73460781355507087653 0.87016624448249091373 0.71855771433921244995 0.17014374026853557043 -1.0337319457998932482 -0.52665290978558709778 0.5878912472834809666 -0.087622529074385169245 -0.54289296885661109116 1.0430685063358735576;0.24426984657247688415 -0.98470704949263199168 0.74419816447326869735 -0.97249077451473098233 -0.14100015395298698406 0.77246414340962843426 -0.55011359787468927518 0.3697863043956591822 0.10759540664603238491 1.1548251726987188714;-0.66076020300353344172 -0.77534981524908286321 0.43324502875600096052 -0.14140465507054372774 -0.92536163554279726728 -0.77080433641926049404 0.79276521320419224281 -0.72444581252641526703 -0.87654597029891012649 -0.52595359099479699339;-1.0403898333780969843 -0.78919949080537898922 1.0806204144526412314 -0.27399054365558550561 0.74203965210122535545 0.3043190677438172842 0.75647248101009312293 -0.67714011685876618341 -0.41032074765283366169 0.39148733757142833989;-0.1806613712848947062 -0.050785655579551475247 -1.3378203566109863054 0.38077542389852081506 -0.9728051395001395818 -0.57134222338114903916 0.95159623745526433769 0.030927757006310591104 0.4569939699073389261 0.74142714099371431757;-0.72219772681008176374 0.9125493141681020326 -0.31685555758677202975 0.125794490968007322 -0.033904105799242523211 0.77398571414588845929 0.89729925809291888328 -0.6904571952596109119 -0.91340199032579094673 0.89737604977846452403;-0.8863375220410882882 -0.54992721997284288449 0.015510055537638886558 0.69427118331518544725 0.083197436240991587408 1.0351673492356976425 0.36844487259570535276 -0.72656790684169469952 1.0046324529680414894 -0.77788308492401381233;-0.18644889321149346606 0.69170420655949893529 0.49040448811152548281 -1.3609491042431896002 -1.0203659243095462017 -0.28800555308761394135 0.17272152917630745339 -0.142877140167234018 -0.95453276878580173292 -0.16823820778985479341;-0.42260112132427923859 0.28392539737523453391 -0.99452923618344790668 0.44873867031045211462 -0.98094109865381440283 -0.23532172297997860921 -0.56986756260146131936 0.48657541989558616979 0.93209521471872880394 1.0215727876492350923;1.0481604902713406169 0.90004658291961636696 0.026395293902346555343 0.8629650052830610818 -0.24237687438886543201 0.686330437335434973 0.61147739211315921271 -0.28753645565574387222 -0.42968230252622363619 -1.0379544751034466277;-1.1256634216842713592 0.2632435971215413284 -0.8797748211331838375 -0.45282118821973132983 0.67041136921072963517 0.48890590348426166134 0.55756515320327704188 0.70330727335716813897 -0.93512493430906629133 -0.52884564392767252627;-0.31353402777473632357 -0.66121663770232663726 -0.051303362581254334518 -1.1420435631312755298 1.2863999929101808117 -0.38846214504653586719 -0.69245258544419840963 -0.56732819292825309443 0.35784792746349192161 -0.72888461992454334215;-0.8084498384394205317 0.6779163203050079245 -0.84928706749085203231 0.94752457523603639267 0.88346047702019481207 0.1226296249061552962 -0.5685303918811877022 0.0019067007487710589328 1.0451201567792318681 -0.079132021714443376292;-1.599782529128805697 0.68275542016811607837 -0.30720654320660822911 -0.029695468469492489194 0.66707793378737390011 0.70144262784505739816 0.41967918442025581305 -0.18968764720644762378 -0.40589745266843291205 -0.76161452253863537454;-0.38713010667228964223 0.43109708658290663008 -0.025174620321455228739 0.94747555492580548542 0.4029584481249693928 -1.0519759677692257505 -0.7653643848013048645 -0.38646235710910337158 1.1569836321384117106 0.61373911823401294807;0.95461758986107703162 0.55019529000866473911 0.63655219634775694892 -0.64137024261582364915 -0.68224893406187858691 -0.45481867771920736487 -0.77884625394951079169 -0.72231059339951164677 0.88750709375330960604 0.47432434083147750892;-0.60039051321695380281 0.096414400272024261551 0.39763334059460397896 -1.1269235525922018937 -1.2379519190318286626 -0.70415702701095816973 0.34435823319284364352 0.040349709110752168817 0.32287780782189290374 0.91846194701930539139;-0.88701151718005921687 -0.16662053324820133571 0.80687861126444904158 -0.59255276417784819021 0.3805835806237728991 -0.49296927750632374421 0.057317930900603802913 1.0593586685726388286 -1.0875045484904497517 -0.71261455687527563985;0.93844575422317355606 0.89874112797116523232 -0.56691251583709978412 -0.12924853693396790022 0.44812903578263008075 -0.77914191097568674671 -0.32825785919048611206 1.252323970055181368 0.60568996182279888352 0.33324042497510059091;0.7139856632175461959 -0.10912267978987953698 -0.77116293201219421327 0.68751398302685218233 0.44709581533049502777 -0.86525842720987322654 -0.12188172846440371855 0.91829314501682424154 -0.78863250917563543219 -0.94298584033757082423;0.33560602800652661326 1.1423864050457863684 -0.33422575207772253769 -1.381143345046568216 -0.64701735851422292889 -0.21738910029717917194 1.0095602997718562399 0.016432935807434788378 -0.19474646668589218335 -0.25626050990910159699;-0.83301297567640009145 0.92872847505270550439 0.81630071404228266019 -0.92512102077034141789 -0.8759565208533151015 -0.29549202492837650658 0.34143599845557204286 0.61078917531051568623 -0.58614663730700367061 -0.50812355683091758873;-1.0679995437989899809 0.26043116545116162808 -0.75803828524407024236 0.96154393323819176143 0.061648056186348075547 0.37251181491550122704 -0.76387967252415245323 0.69118257058108578672 0.18106563485753321419 0.90858108235660628438;-0.23926859942057249198 -0.48154144883445987313 0.96776332723442082262 -0.85247916855451522089 -0.77140687335944868597 0.14907558280957908248 -0.90687043785606402668 -0.95326970000927380156 -0.51751036849963427677 -0.60264495306586762791;0.30643115157939249116 0.68591698590667771196 -0.6557218919405265467 -0.23828275254634537217 0.70386264783952956492 0.72489909674113217619 -0.52942004930287100972 -1.2096492955643991518 0.46102234362796512546 -0.94249230943972805985;-1.1130211734462651663 0.82460879620405524992 0.65773441955789713198 -0.57188581566309526494 0.25681745450873078029 -0.25233412538361221777 0.92277162233219078846 0.84249134300683303778 -0.60271685241516825826 -0.42016448113959609101;-1.072909140407078965 -0.57106021380343552352 -0.96594625561300717642 -0.82768277300208237257 -1.030125998104594931 0.78332964007434013887 -0.29513977909478750217 0.0077688198986720150008 -0.12092211032202596077 0.22089628146989107038;-1.0922416675165349531 0.41204494112192430189 1.0403911185321372823 -0.72573153231467901758 -0.71053441669818973025 0.78353089296071887215 -0.41238805189379307281 -0.33179903925151738031 -0.78050808866035570333 0.043837827605074777826;-1.4382168902738654559 -0.86245431025942687064 0.89526726944674606123 -0.13184165778892509291 -0.35014756583329365025 -0.059761458132193197301 0.43322137851321312896 0.29011683785470382402 0.66454526650207368377 0.73828844326037201817;-0.41821540462708156616 -1.2722460967344491056 0.75694756145276409498 0.14318492924195169724 1.1730148595026010927 -0.87537712766763497996 -0.3471737105910466803 -0.38775564453073074755 0.22114809093025300513 0.040574919088738919948;0.038181548506210000182 0.94729492142255133924 -0.80063041776481747025 -0.40488332324558151676 -0.051560831708018090014 -0.69259747156620843356 0.24786628343111077877 1.0041205671332951166 1.0376999356630007831 -0.88517402937540001773;-1.2768371181120481417 0.12097253117293854663 0.31876112357617408799 0.73566425591232209591 0.86115249874777877181 -0.54944369441678020394 0.12560919436407855243 0.67804932035144593883 0.014235731174867758894 1.05551821167196902;0.97807540873639942092 0.18676028060999658176 -0.33763988142781625745 -0.085804738418524109655 -1.4895697323501080334 0.24484285236973635236 0.081909539413015791665 0.15459021872706416034 0.9222621930528627221 0.71842349288235918259;-0.71179048810453515728 -0.34511553763714003518 0.35546902424631393602 0.34861714233560042731 -0.66949843487438776002 -1.1443245350890605128 -0.71391817352303987843 -0.43278730970036549675 0.046114318451482574912 1.2724073642149047458;-1.1806620221432440054 0.31305960577290714575 -0.7919394314647338895 -0.63273467500528102203 -1.2005779834009977503 0.57003378026978657189 -0.57706948639281008262 -0.5489836182196647929 -0.11999056092869053725 0.15204633326402197668;1.2479778702908548293 0.31653210975731460586 -0.2479350504544685363 -1.0408129439949731498 -0.64283912030060552656 0.73985235683444372512 -0.40782446512273928807 0.2982809228736386653 -0.96582211241051363348 -0.0055102199536376404373;-1.0070697593089110722 -0.93308173254421278298 0.6981701471694421457 0.76177662720367811389 -0.62144320924140028506 -0.11252356262412310794 0.575787578426397606 -0.068566619020294178322 0.37865556656516213829 1.0498001851936762385;-0.57789319694483531897 1.128451187068939543 0.93229458039808099645 0.1245724677908134348 0.18528864557857574469 -0.19327035333045564092 -0.84723192957971826811 0.69508080722438181365 0.94221761817950100415 -0.51984476621690367537;0.076683591464893091638 1.1783079600574337675 0.13380367760885400474 -0.36704594621822156375 0.48072954661172440094 0.77673529895356552277 -0.19256316725635724829 -0.98590628616072761847 -0.53398410745701885283 -1.1036819803576281007;-0.76260465744012628786 0.54836836021613466485 -0.44034929836033515071 -0.88708054321647666907 -0.020578336878839812579 0.47120385614842996702 -0.9198498486177127953 -0.87093392854539208869 -1.1082016755756267656 0.032390203770140145456;-0.26025190674939052693 0.44411850466871166665 0.91977306422593052559 -0.3868045133858651341 -1.0222244461445535446 -0.83303328338968507527 -0.51234783800159278133 -0.5839210456028934848 -0.42918272841810972684 0.99200092273087270289;1.0949183840701275372 0.15719289436086916756 0.45812088594562638821 1.1596006800265454828 -0.67720553125507865211 0.31045611059605443538 0.36333411765276268923 -0.57091012715670119704 -0.79732579302829809098 -0.69127081743292517757;1.0002485728272278998 -0.74145195997126556176 -0.6956089264564265795 0.62476263670993736898 1.0165024349704652185 -0.16074068683986447725 -0.18877061217105572943 -1.0703812534473322593 0.52463128012852588977 0.11787777963158370398;-0.91839833139019066977 -0.26850742257101495314 -1.0221097214731436065 -0.64931102513407490395 0.36000222780368862363 -0.50468735433813960434 -0.32216467336653537012 1.0737596820080157478 1.0064232077190402581 0.086016912059086778064;-0.81578164263421593105 0.10590912677065396352 0.67711864176507263746 -0.028097160332818608974 0.027282252225213028674 0.97588913411745059623 0.79466616352008789814 -1.0490005535244684154 -1.0268639875257843386 0.31340524975608874403;-1.1920967033653078193 0.54065847324192306544 -1.3066407520714278245 -0.9718048156264933457 -0.034397376424609250878 0.056712720676403503839 -0.43726356324812321041 -0.54900093240219571822 0.018792983609151246022 0.22646611464467020225;-0.68226008755271549955 1.0759334006227687652 -0.7377242668762142852 -1.0977385635123679819 -0.16475012750921605442 -0.099277018815687720354 0.44602166786770663931 -0.25051108405071487173 -0.60917512974120890945 -0.96875726462836075914;0.83152041575835400344 0.47078059919022730018 -0.11441754804277345925 0.26416995326790676524 1.2046031409227915265 1.1903805444218573673 -0.68440791242100218472 -0.12283607832645936087 -0.5539355677406422318 0.51811320925661530357;-0.0011668309933978166914 0.38786386654251731043 -0.38798338255055447865 -1.4878478993806596442 -1.0355609650535126942 -0.54130190148988799326 0.71104496254224036633 0.13683513706342737004 0.46468046977058741209 0.58955104957269766075;-0.65898543449313484732 -0.88735155308086688386 -0.43502696987515748761 -0.80674721934836024495 0.12993001491080985454 1.148044875425149991 0.20323556383715996043 0.72608642174023785287 0.16886551587877854375 -0.98887166407173376914;1.1407528790758709736 0.46876179990293531663 -0.35830082634818222198 0.5445666618784856805 -0.052813888544581071016 0.94184629337138658922 0.17232945422756035248 0.97332683043793277733 0.33441769694038553373 -1.0101419920153569265;0.66551281171129583747 0.72516545452625047474 0.83309977140976132493 0.80707902039245438264 0.64323192242440396793 -0.93902920302335135538 -0.62722789129922640328 0.53700009837963713633 0.51917502481115573865 -0.5505571957014071538;0.41468759499180751771 0.67635131521484481709 -1.2818290161962062612 -0.10948083046076505231 1.2384393683310270795 -0.7419590567909217782 0.097744262679400673033 -0.30422160177425117134 -0.22044942953689067311 0.58361987965033412795;0.46569436701417110669 -0.68313810339787217618 1.0222025039315760786 0.70771391479724399254 -1.0987397302392418741 0.92415475765132515384 -0.062864937834979692233 0.70066095224991620238 0.22222104525153213439 -0.12369565268591244112;0.21498860155490034929 -0.90715989747356606809 -0.42111380665616066077 0.063988220420114552689 1.1257819087079590226 0.83018249630700990949 -0.75397099574144288425 0.93111065674342330389 0.68730642397445496083 0.064972060484412980097;0.28521323951730087609 -0.86078698072153148058 0.79769293078983205536 0.14103622981054403374 0.65947872594450274164 1.0430882806105254978 -0.21556363639890313566 -0.29231977527894748015 -0.91247314863778938854 0.97619993230366308712;-0.27132608273837394153 0.027441521861032408536 0.13032566039983839445 1.0289415424422370116 1.3319866718023614105 0.49419463303983507396 0.049793233219043352145 0.44293763779401063019 0.99282716142504168211 0.72824588094608255773;0.60167222077743331976 0.86270355764852502123 0.2856031817319441557 0.85136423734678101649 0.18534956231368673873 0.56058721984517367876 0.12217809050256139836 -1.0076717347433712391 -1.1387596461231639378 0.70211679026909290524;-0.34910452018200127666 -0.44631164857413385683 -1.1517475655560460712 -0.65096058706201120891 -0.63791198131944149008 0.94941730731427020906 -0.35727326951760651763 -0.28295349463302893467 1.0630928303080200426 -0.36659864898645144748;-0.63302823382259010287 -0.54398312636929824215 -0.98292739239763815551 -0.9253338801015761339 0.58520605091098121253 -0.793655931224866662 -0.74299094012278854571 -0.95479895542527304375 0.080510881106723594658 -0.20128416663620030125;-0.078653194300841125508 1.239875585045530304 0.12145373895928313068 0.069338115755470094981 -1.0063176977746401963 -0.55167339079198518537 1.104787457708297449 -0.0092303526258890843115 0.88173849494757394751 0.21158123837820397295;-0.50289938330862615778 -0.14719612729459055633 1.0607127804457474607 1.1215149544806686244 -0.35713371277792349545 1.1347826174245396746 -0.14895856321660974619 0.45338004980380253173 0.63485660415771705267 -0.45913043917436568986;-0.33834299585781646424 1.117747338941655677 -0.45173049726687597438 -0.75465848162341331307 1.0706340058154562023 0.27915038609163539407 -1.2117267946775580612 -0.0216828195212621401 0.40880951475983723364 -0.22983111735952460597;0.56215944369294856831 -1.1155936861692132833 -0.71013621588305819721 1.011882020363039425 -0.0054300749915425208444 -0.52379620441819829679 -0.56323114640486038329 -0.58404801684518747873 0.20991610949518804685 0.87115967823097684164;0.026540503949025091163 -0.4835336451841655836 -0.38128699357693407457 0.67003691500132145364 -0.22354186112019766575 0.86281337742440411542 0.35712165420781133429 0.09862090658434911894 1.2641060779030350858 -1.2475509041859447201;-0.9770082658428844713 0.40699394335586625004 0.0047997596224078273308 -0.47881180388820471228 0.4577118480369099518 0.81791505882351644985 -1.0596719965527043872 0.67146272806197915273 1.0443157814151708962 -0.42200653536546589573;1.2829343099425409847 0.018852436401086410805 -1.1150900560036718367 0.51556496301182230813 -0.83732985817988148103 0.246781062011078689 0.34525949471862232842 0.16352913257043533157 -0.052993156343701275368 -0.82034215446656244541;-1.0656748090819605501 0.44222384618952020885 0.60729155008322577292 -0.11148569557078281955 0.33008406843070287051 0.84022138542214308554 0.96115483735600226733 0.82179099562498636455 -0.74645726216158980737 0.45743070288063697459;1.349603240775090196 -0.6483908560115215769 -0.89654923177051004668 0.7631388511281651521 -0.29322699418350300915 -0.65887632572220444782 -0.59272818260792314859 -0.15707787521159533028 -0.15826718831436073498 -0.59155504770305467055;0.73955234654891965906 0.75926323944780593767 -0.76066195049042950593 1.0690253684346577856 0.13749749866919741548 -0.42283936861689291886 -0.32180103543530569343 0.29739362235593908013 1.0760882789853860597 0.75670416853535626966;1.0098324160503848734 0.50384426257375225511 0.36300239506535525447 -0.20365289564020791491 -0.73602290373751344532 -0.81436619304939728003 0.74279303337036484134 -1.2334513252946814887 -0.52862125828630057711 0.12480294520274778924;0.49168887461633803415 -0.75507993791045602272 -0.91941331796961389689 -1.0295580847512151301 -0.026972545800754581247 0.37664402345442443698 0.22401438219359362525 -1.005277153895971054 -0.69476345516647830536 -0.73591041703415271957;-0.83150273693118159635 -0.24588735230549338406 -0.58983501592276432746 -1.0126988256418325562 0.41898435046452464636 -0.61019523693294352995 0.65859038998810404131 0.35325798205681852027 -0.93865880340878038446 0.89905807629998502062;0.98566524457213910981 -0.23437708052685357618 1.2618951778926705831 0.25573611279163771526 0.92305439582163317791 -0.032026704126249132265 -0.53907023816494648027 0.1628264000272137968 0.084297910719795532408 0.99265931411774888105;1.0547947366212782061 0.059072081056192514426 -0.65426284264759360099 -0.27600733440756836101 0.05434058666460366005 0.86671234495279170229 -0.076921656696798804131 -0.14157111671725031155 1.143725616273390866 -1.1089225141097545091;0.38776587088186065255 0.33507269616010892932 -0.034561909238522835197 1.2351024387710638486 0.1209396952109102058 -0.62413627242896074776 0.89534369364089672061 -1.3132604988649152489 0.18573857471907923022 -0.33045544136797744272;0.0046557216975039606571 0.86265738282617743238 -0.9693871677885553817 0.11342269855913400534 -0.6539321069659059793 -0.20254786041450953404 1.1610107221177889958 0.81048493493669560017 -0.14374577763287738064 0.84326271325195545359;0.21939687695249834865 0.68764483541656173937 0.13567201360076114325 0.6714744879161904656 0.9994864312655360461 -0.77909457168182572051 0.587275922679268092 -0.84232708026993163841 -0.55849905966002322266 1.0014312139000920432;-0.46348865423832874555 -0.34599117434362275381 -0.21218496656997473671 0.66696922195921015675 0.93421294396863585607 0.58464720435001871213 1.1000055665219907741 -0.53160290263792908672 0.51218227442310282349 1.0914586370501353496;0.010420950014859018534 0.27235935378644310356 -0.87993416237651511658 -0.77711926475561732275 1.3308988937401875496 -0.61175867196695887795 0.87383894216291657653 -0.5096947031036260789 -0.13370049106690359841 0.39914188185464100078;-1.0100900305453468508 -0.25536476667745428015 -1.0591022238473903894 -0.11357117569921496014 -0.69929820388581021007 1.0704780931494215501 -0.24885915341682593449 -0.78167481438618469092 -0.58037912007747394227 -0.10410955217739437106;0.27050826134471600559 -0.66343166171236855888 -0.9963014314241643854 0.0085908404582714925635 1.025644145889354597 -0.3122229663595099125 0.59615167499589749589 0.91229563890478615473 -0.7922991421680807278 -0.66856359858397074181;-1.2493786192169618054 -0.065851091968510397368 0.21524341128906293585 0.202248884142538915 0.47420385801431563788 1.2362319763109630433 -0.21840895951979139022 -0.4068471195142243646 0.96345952637232235016 -0.5731882678634842021;0.16618897744498178914 -0.59669083626139385323 1.2382988941945560768 0.1973113406973047157 -0.14469618660406932675 -0.77085390595480751674 0.25194413206005161765 -1.2565478368540838883 0.49956675937591782377 0.7024987295121847275;-0.030721640805256397733 0.95152803354506310107 1.2652955167013957283 0.22645901175380045434 -0.73603762490907298499 -0.42291463539221618717 -0.20634971690281983525 -0.033164110105186661581 0.37644010215098588912 -1.2424963904609924725;-0.84530130491228216982 -1.0023083222404756132 0.39828055177385734975 0.36392988394250846973 -0.57391700117233712675 -0.65123587098743562773 0.91432375535244825304 -0.49769897180005362447 -0.29170036181923930663 1.0284967008919267961;0.53321340095518698909 -0.3492384203473570814 0.67104404980502918576 -0.087970225797969980874 -0.7191332319730523448 -0.99629953393872283662 -0.76438904261005202745 -0.094727456532422496527 -0.88607762147269264474 -1.055428670298265148;0.77387657403757459385 0.37310320104614008718 0.42163798062278096124 -0.85362282763697905352 0.10239566367236209443 -1.0594379862508873646 -0.86024210272450130077 0.49827505903199809101 -0.79630684391047257265 0.6763606480346563421;-0.41090687629254624147 0.36768954518306773416 0.6008590760779352058 1.0914237980611205536 0.79030444522489640136 -0.47941678090704287207 1.0647308143634872657 -0.23450740160975167004 -0.054097298981318361899 -1.0603449579736825559;0.85709212571611359532 0.81687270116246324392 0.80408360201555229008 0.91365287814439677394 0.54104092151482141571 0.63828313268619485399 0.73175028490260862757 0.8150377793193870346 -0.34241230883585910272 -0.054034848422802379819;-0.02181431068317764288 -0.24239047335872618283 0.46418368786373020995 -1.4608401122686973661 -0.78205852945781439978 -0.49417218161321901926 0.23087441702966968182 -1.0356647424581504335 -0.71757228628788061187 0.097837071809213568829;-0.78492149726773619012 0.32936073764273787745 -0.9863774820586584946 -0.98418874593238592219 -0.33412762989907607292 0.68995629446525041928 0.54274704345468960387 0.27413223698542787954 -0.29792042885156627685 -0.99607565777421325226;-0.65459919852730918954 -0.070434273808929873106 0.7239156344721494607 0.21804573098618756921 -0.3758505657812432621 0.97753420796740198018 -0.95676871744057956359 -0.94100660360629162504 -0.88351887906236026282 0.52906906046236501506;-0.017957623387740213883 0.76949839742264913856 0.44694118353834894064 0.91584206133784784587 0.78984406790762828887 -1.0490152296988852765 1.018374953214512546 0.55141939009377860526 0.56049214378196066111 -0.059168860975348430697;0.92046731005471149611 -0.88802706297510514144 -0.64010988719705974592 -0.24176029095863552087 -0.12232688255037563185 -0.8192420733183410908 0.37498051596890569215 -0.94330356335573195548 0.54689006322043243191 -0.88986448371199011742];

% Layer 2
b2 = 0.4168019766833750972;
LW2_1 = [0.67104590178452672156 0.76445074298867843332 0.010584365824889601163 -0.67988094074300930991 0.29984217667738638502 0.19632791712871239254 -0.41648848981356811905 0.94530003423963149256 -0.30516862558327989552 -0.73657571714560632348 0.26722267805683519448 -0.81394274905247543384 0.72712458338488317189 -0.16886659739872647568 -0.42872179674331301058 0.29939335714648079856 -0.80445546432610859355 -0.24621175816402912639 0.76041415005150725381 -0.76277993807886645961 0.58478821572475159218 0.44093183973029909106 0.71919482657473987608 -0.29066557771818440914 0.97588344560859752175 -0.94475127986295104332 0.63079750467267647895 0.72680032850545095435 0.36012894087506769347 0.51657590432390343427 -0.23822639379553367522 -0.83176939135910110679 0.31680620520164065601 -0.70924130576665123105 0.10868603126052693575 0.56552910933960476303 0.80022958230932939028 0.67799777387188919775 0.47246951100592105011 -0.89544649122954333986 0.33161791864851086764 -0.43167779674653528055 -0.021318411315533181832 -0.36410159233662769962 0.025100868467830817626 0.72106642446526503232 1.0112777483325061656 -0.28352181107387819381 0.72590075302685364012 -0.51906325763178717825 0.030684423561746512754 0.3576026519420794636 0.85576823310470806483 -0.44838513853545897136 0.68809253058802277714 0.52979616464899270678 -0.4999688545271489537 0.36131984663779032063 -0.29014881910194512127 0.16566274378366296904 0.21370847113572080667 0.23817492473396267849 -0.7535584023291903577 0.58062641315794027985 0.4700628103655322132 -0.11270598754019983678 0.20952685851419253216 -0.96801308565545651774 0.45067417333565423787 0.083648493615716815186 0.84553514836452314807 -0.76038895167031639311 -0.1792753572289009778 -0.77734369409386872007 -0.32666009130816608952 0.93318304470440294196 0.35150863740356536047 -0.0032997680517215322374 0.29627510496764458692 -0.40526062643945737207 -0.22437162985741493371 0.78849653628686133811 0.37453861634481760978 1.0083432790910575871 0.3531787008672683803 -0.41584447506126848149 0.54373389179274289607 0.2752050105344896469 0.5975866938970346709 -0.62044159860092251702 -0.69252384289972435116 0.68527650448697885466 0.4605490082264352969 0.6502508509788285096 0.49807798862116636762 -0.0066999159781940143682 0.72740035881460740619 0.32980143149729967966 -0.44421641913868004092 0.10173478096321260378];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = 2;
y1_step1.xoffset = 0;

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
    Q = size(X{1},1); % samples/series
else
    Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS
    
    % Input 1
    X{1,ts} = X{1,ts}';
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = repmat(b2,1,Q) + LW2_1*a1;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a2,y1_step1);
    Y{1,ts} = Y{1,ts}';
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
y = bsxfun(@minus,x,settings.xoffset);
y = bsxfun(@times,y,settings.gain);
y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
x = bsxfun(@minus,y,settings.ymin);
x = bsxfun(@rdivide,x,settings.gain);
x = bsxfun(@plus,x,settings.xoffset);
end
